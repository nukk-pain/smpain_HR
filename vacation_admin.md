# 휴가 관리 시스템 - 관리자 기능 요구사항

## 📋 개요

관리자(원장) 전용 휴가 관리 기능으로, 전사 휴가 정책 관리 및 직원별 휴가 현황을 종합적으로 관리할 수 있는 기능을 제공합니다.

---

## 🎯 핵심 기능

### 1. 전체 직원 휴가 현황 관리

#### 1.1 직원 목록 및 휴가 현황 대시보드
```
┌─────────────────────────────────────────────────────────────┐
│ 👥 전체 직원 휴가 현황 (2024년)                            │
├─────────────────────────────────────────────────────────────┤
│ 📊 전체 통계                                               │
│ 총 직원: 25명 │ 평균 사용률: 45% │ 미사용 위험: 5명      │
├─────────────────────────────────────────────────────────────┤
│ 검색: [이름/부서] 🔍  필터: [부서▼] [사용률▼] [정렬▼]     │
├─────────────────────────────────────────────────────────────┤
│ 이름    │부서  │직급  │총연차│사용│잔여│사용률│위험도│액션 │
│ 김철수  │진료  │과장  │ 20일│12일│8일 │ 60% │ 🟢  │[조정]│
│ 이영희  │행정  │대리  │ 18일│ 3일│15일│ 17% │ 🔴  │[조정]│
│ 박민수  │원무  │사원  │ 15일│ 8일│7일 │ 53% │ 🟡  │[조정]│
└─────────────────────────────────────────────────────────────┘
```

**주요 기능:**
- 전체 직원 휴가 사용 현황 한눈에 보기
- 부서별, 직급별, 사용률별 필터링
- 미사용 연차 위험도 표시 (🔴위험, 🟡주의, 🟢정상)
- 엑셀 다운로드 기능
- 실시간 데이터 업데이트

### 2. 개별 직원 휴가 조정 기능

#### 2.1 연차 수동 조정
```
┌─────────────────────────────────────────┐
│ ⚙️ 김철수님 연차 조정                   │
├─────────────────────────────────────────┤
│ 현재 연차 현황:                         │
│ • 기본 연차: 15일 (3년차)               │
│ • 이월 연차: 3일                        │
│ • 추가 연차: 2일 (포상)                 │
│ • 총 연차: 20일                         │
│ • 사용 연차: 12일                       │
│ • 잔여 연차: 8일                        │
├─────────────────────────────────────────┤
│ 🔧 조정 옵션:                          │
│ 조정 유형: [추가 지급 ▼]                │
│ 조정 일수: [+3] 일                      │
│ 조정 사유: [우수사원 포상연차]          │
│                                         │
│ [취소] [미리보기] [적용하기]            │
└─────────────────────────────────────────┘
```

**조정 유형:**
- **추가 지급**: 포상, 보상, 특별 사유로 연차 추가
- **차감**: 징계, 무단결근 등으로 연차 차감
- **이월 조정**: 전년도 이월 연차 수정
- **사용 취소**: 잘못 처리된 휴가 사용 취소

### 3. 휴가 정책 관리

#### 3.1 전사 휴가 정책 설정
```
┌─────────────────────────────────────────┐
│ 📐 휴가 정책 관리                       │
├─────────────────────────────────────────┤
│ 🗓️ 연차 계산 규칙                      │
│ • 1년차 기본: [11]일                    │
│ • 2년차 이상: [15]일 + 근속년수-1       │
│ • 최대 연차: [25]일                     │
│ • 월 중 입사 일할계산: [✅]             │
├─────────────────────────────────────────┤
│ 🏷️ 휴가 종류별 설정                    │
│ 연차 휴가:                              │
│ • 사전 신청: [3]일 전                   │
│ • 최대 연속: [15]일                     │
│                                         │
│ 경조사 휴가:                            │
│ • 부서장 승인: [필수 ✅]                │
│ • 증빙서류: [필수 ✅]                   │
│                                         │
│ 개인 휴가:                              │
│ • 연간 한도: [3]일                      │
│ • 급여 지급: [무급 ✅]                  │
├─────────────────────────────────────────┤
│ ⏰ 특별 규칙                            │
│ • 토요일 휴가: [0.5일 ✅]              │
│ • 일요일 휴가: [0일 ✅]                │
│ • 공휴일 휴가: [0일 ✅]                │
│                                         │
│ [저장] [초기화] [정책 미리보기]         │
└─────────────────────────────────────────┘
```

### 4. 휴가 승인 관리

#### 4.1 최종 승인 권한
- 모든 휴가 신청에 대한 최종 승인/거부 권한
- 부서장이 승인한 휴가도 재검토 가능
- 일괄 승인/거부 기능
- 조건부 승인 (날짜 변경 요청 등)

#### 4.2 승인 히스토리 관리
- 승인/거부 이력 추적
- 승인자별 통계
- 승인 사유 기록 관리

### 5. 대량 처리 기능

#### 5.1 연말 정산 및 이월 처리
```
┌─────────────────────────────────────────┐
│ 📅 연말 연차 정산                       │
├─────────────────────────────────────────┤
│ 🔄 자동 처리 옵션:                      │
│                                         │
│ [✅] 미사용 연차 5일까지 이월          │
│ [✅] 5일 초과 연차 소멸 처리           │
│ [✅] 퇴사자 연차 정산 처리             │
│ [✅] 신규 입사자 연차 일할 계산        │
│                                         │
│ 처리 대상: 25명                         │
│ 예상 이월: 45일                         │
│ 예상 소멸: 12일                         │
│                                         │
│ [미리보기] [일괄 처리 실행]             │
└─────────────────────────────────────────┘
```

### 6. 리포트 및 분석

#### 6.1 부서별 휴가 사용 분석
- 부서별 평균 휴가 사용률
- 월별/분기별 휴가 사용 트렌드
- 부서 간 휴가 사용 패턴 비교

#### 6.2 위험 관리 리포트
- 연차 미사용 위험 직원 목록
- 과도한 휴가 사용 알림
- 업무 연속성 위험 부서 파악

---

## 🔗 API 엔드포인트

### 관리자 전용 API

```http
# 직원 휴가 현황
GET    /api/admin/leave/overview           # 전체 직원 휴가 현황
GET    /api/admin/leave/employee/:id       # 특정 직원 상세 현황
POST   /api/admin/leave/adjust             # 연차 수동 조정

# 정책 관리
GET    /api/admin/policy                   # 현재 정책 조회
PUT    /api/admin/policy                   # 정책 업데이트

# 대량 처리
POST   /api/admin/leave/year-end-process   # 연말 정산 처리
POST   /api/admin/leave/bulk-approve       # 일괄 승인/거부

# 리포트
GET    /api/admin/reports/department       # 부서별 리포트
GET    /api/admin/reports/risk-analysis    # 위험 분석 리포트
```

---

## 🎨 사용자 인터페이스 요구사항

### 1. 반응형 디자인
- 데스크톱 최적화 (관리자 업무 특성상)
- 태블릿 지원
- 대용량 데이터 테이블 최적화

### 2. 사용성
- 직관적인 필터링 및 검색
- 빠른 액션 버튼 (조정, 승인 등)
- 실시간 데이터 업데이트
- 엑셀 내보내기 기능

### 3. 보안
- 관리자 권한 검증
- 모든 조정 내역 감사 로그
- 민감한 개인정보 보호

---

## 🚀 구현 우선순위

### Phase 1: 기본 관리 기능 (필수)
1. ✅ 전체 직원 휴가 현황 페이지
2. ✅ 개별 연차 조정 기능
3. ✅ 토요일 0.5일 계산 로직
4. 🔄 휴가 정책 설정 페이지

### Phase 2: 고급 관리 기능 (중요)
1. 🔄 대량 처리 기능
2. 🔄 리포트 및 분석
3. 🔄 연말 정산 자동화
4. 🔄 알림 및 경고 시스템

### Phase 3: 최적화 및 확장 (선택)
1. ⭐ 고급 분석 대시보드
2. ⭐ 예측 분석 기능
3. ⭐ 모바일 관리 앱
4. ⭐ 외부 시스템 연동

---

## 📊 예상 데이터 구조

### 휴가 조정 이력
```json
{
  "adjustmentId": "adj_001",
  "employeeId": "emp_001",
  "adjustmentType": "add|subtract|carry_over|cancel_usage",
  "amount": 3,
  "reason": "우수사원 포상연차",
  "adjustedBy": "admin_001",
  "adjustedAt": "2024-01-15T10:30:00Z",
  "beforeBalance": 8,
  "afterBalance": 11
}
```

### 휴가 정책 설정
```json
{
  "policyId": "policy_2024",
  "annualLeaveRules": {
    "firstYear": 11,
    "baseSecondYear": 15,
    "maxAnnualLeave": 25,
    "monthlyProration": true
  },
  "specialRules": {
    "saturdayLeave": 0.5,
    "sundayLeave": 0,
    "holidayLeave": 0
  },
  "leaveTypes": {
    "annual": { "advanceNotice": 3, "maxConsecutive": 15 },
    "family": { "managerApproval": true, "documentRequired": true },
    "personal": { "yearlyLimit": 3, "paid": false }
  }
}
```

---

이 문서는 관리자가 효율적으로 전사 휴가를 관리할 수 있는 포괄적인 기능을 정의합니다.