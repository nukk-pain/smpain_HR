# HR 시스템 문제점 진단 계획

## 문제점 목록
1. 사용자 삭제가 안됨
2. 직책(positions)이 새로 생겼는데 보이지 않음  
3. 부서 삭제가 제대로 되지 않음

## 진단 계획

### 1. 사용자 삭제 문제 진단
- [ ] 프론트엔드 사용자 삭제 UI 확인
  - [ ] 사용자 목록 페이지에서 삭제 버튼 존재 여부 확인
  - [ ] 삭제 API 호출 코드 확인
- [ ] 백엔드 사용자 삭제 API 확인
  - [ ] DELETE /api/users/:id 엔드포인트 존재 여부 확인
  - [ ] 삭제 로직 구현 상태 확인
  - [ ] 권한 체크 로직 확인
- [ ] 데이터베이스 제약조건 확인
  - [ ] 외래키 참조로 인한 삭제 제한 확인
  - [ ] 연관 데이터 정리 로직 확인

### 2. 직책(positions) 표시 문제 진단
- [ ] 데이터베이스에서 positions 데이터 확인
  - [ ] positions 컬렉션/테이블 존재 여부 확인
  - [ ] 실제 데이터 저장 상태 확인
- [ ] 백엔드 positions API 확인
  - [ ] GET /api/positions 엔드포인트 확인
  - [ ] 응답 데이터 형식 확인
- [ ] 프론트엔드 positions 표시 로직 확인
  - [ ] positions 데이터 가져오기 코드 확인
  - [ ] UI에서 positions 렌더링 코드 확인
  - [ ] 필드명 일치 여부 확인 (title vs name 등)

### 3. 부서 삭제 문제 진단
- [ ] 프론트엔드 부서 삭제 UI 확인
  - [ ] 부서 목록에서 삭제 버튼 확인
  - [ ] 삭제 확인 다이얼로그 확인
- [ ] 백엔드 부서 삭제 API 확인
  - [ ] DELETE /api/departments/:id 엔드포인트 확인
  - [ ] 삭제 로직 구현 확인
- [ ] 데이터베이스 관계 확인
  - [ ] 부서에 소속된 사용자가 있을 때 삭제 제한 확인
  - [ ] 연관 데이터 처리 로직 확인

## 진단 순서
1. 각 기능의 프론트엔드 → 백엔드 → 데이터베이스 순으로 확인
2. 콘솔 에러 및 네트워크 요청 상태 확인
3. 실제 데이터베이스 상태 확인
4. 권한 및 제약조건 확인

## 확인 방법
- 브라우저 개발자 도구로 네트워크 탭 및 콘솔 확인
- 코드 파일 검토
- MongoDB 쿼리로 실제 데이터 상태 확인
- 각 API 엔드포인트 테스트

## 다음 단계
진단 완료 후 각 문제에 대한 구체적인 수정 계획 수립