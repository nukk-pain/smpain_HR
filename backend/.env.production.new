# Production Environment Configuration
# Generated: 2025-09-04
# Deploy Target: Google Cloud Run + Vercel

# Node Environment
NODE_ENV=production
PORT=8080  # Google Cloud Run requires port 8080

# MongoDB Production (Google Cloud/Atlas)
# IMPORTANT: Set via Google Cloud Secret Manager in production
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/SM_nomu_prod?retryWrites=true&w=majority
DB_NAME=SM_nomu_prod

# JWT Configuration
# IMPORTANT: Generate strong secrets for production
JWT_SECRET=CHANGE_THIS_IN_PRODUCTION_$(openssl rand -base64 32)
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=CHANGE_THIS_IN_PRODUCTION_$(openssl rand -base64 32)
JWT_REFRESH_EXPIRES_IN=7d
JWT_AUDIENCE=hr-frontend
JWT_ISSUER=hr-system

# CORS Settings
FRONTEND_URL=https://smpain-hr.vercel.app
ALLOWED_ORIGINS=https://smpain-hr.vercel.app,https://hr-backend-429401177957.asia-northeast3.run.app

# Google Cloud Configuration
GCP_PROJECT_ID=hr-backend-project
GCP_REGION=asia-northeast3
GCP_SERVICE_NAME=hr-backend

# File Upload Settings
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_PATH=./uploads

# Security Settings
BCRYPT_ROUNDS=10
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX=100  # max requests per window

# Feature Flags
USE_REFRESH_TOKENS=true
MODULAR_ERROR_SERVICE=false
ENABLE_CORS_WILDCARD=false
ENABLE_REQUEST_LOGGING=true

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_MORGAN=true

# Session Configuration (if still needed for migration)
SESSION_SECRET=DEPRECATED_USE_JWT
SESSION_NAME=hr_session
SESSION_MAX_AGE=86400000

# Monitoring & Health Check
HEALTH_CHECK_PATH=/api/health
ENABLE_MONITORING=true
MONITORING_INTERVAL=60000  # 1 minute

# Email Configuration (future)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=noreply@smpain.com
# SMTP_PASS=

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # 2 AM daily

# Cache Settings
CACHE_TTL=3600  # 1 hour
ENABLE_CACHE=true

# API Rate Limits
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=15  # minutes