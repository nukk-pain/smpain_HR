# 통합 급여 관리 시스템 테스트 가이드

## 목차
1. [시스템 준비](#시스템-준비)
2. [기본 기능 테스트](#기본-기능-테스트)
3. [급여 관리 테스트](#급여-관리-테스트)
4. [인센티브 시스템 테스트](#인센티브-시스템-테스트)
5. [파일 업로드 테스트](#파일-업로드-테스트)
6. [보고서 시스템 테스트](#보고서-시스템-테스트)
7. [권한 시스템 테스트](#권한-시스템-테스트)
8. [성능 테스트](#성능-테스트)
9. [통합 시나리오 테스트](#통합-시나리오-테스트)

---

## 시스템 준비

### 1. 환경 설정
```bash
# 백엔드 시작
cd backend
node server.js

# 프론트엔드 시작 (새 터미널)
cd frontend
npm run dev
```

### 2. 기본 접속 정보
- **백엔드**: http://localhost:5444
- **프론트엔드**: http://localhost:3000
- **데이터베이스**: MongoDB (localhost:27017)

### 3. 기본 계정
- **관리자**: admin / admin
- **테스트 사용자**: 샘플 데이터에서 확인

---

## 기본 기능 테스트

### 1. 인증 시스템 테스트

#### 1.1 로그인 테스트
- [ ] 올바른 계정으로 로그인 (admin/admin)
- [ ] 잘못된 계정으로 로그인 시도
- [ ] 빈 필드로 로그인 시도
- [ ] 로그인 후 대시보드 리다이렉션 확인

#### 1.2 세션 관리 테스트
- [ ] 로그인 상태에서 페이지 새로고침
- [ ] 로그아웃 후 보호된 페이지 접근 시도
- [ ] 세션 만료 시 자동 로그아웃

### 2. 네비게이션 테스트

#### 2.1 메뉴 접근성
- [ ] 대시보드 접근
- [ ] 급여 관리 접근
- [ ] 휴가 관리 접근
- [ ] 직원 관리 접근 (관리자만)
- [ ] 부서 관리 접근 (관리자만)
- [ ] 보고서 접근 (관리자만)
- [ ] 파일 관리 접근 (관리자만)

#### 2.2 반응형 디자인
- [ ] 데스크톱 화면에서 정상 표시
- [ ] 태블릿 화면에서 정상 표시
- [ ] 모바일 화면에서 정상 표시
- [ ] 사이드바 토글 기능

---

## 급여 관리 테스트

### 1. 급여 대시보드 테스트

#### 1.1 통계 카드 확인
- [ ] 총 직원 수 정확성
- [ ] 총 급여 계산 정확성
- [ ] 총 인센티브 계산 정확성
- [ ] 평균 급여 계산 정확성
- [ ] 기본급, 상여금, 포상금 분리 표시

#### 1.2 뷰 전환 테스트
- [ ] Overview 뷰 - 전체 요약 정보
- [ ] Department 뷰 - 부서별 통계
- [ ] Trends 뷰 - 월별 추이

#### 1.3 데이터 내보내기
- [ ] Excel 보고서 다운로드
- [ ] 파일 생성 및 내용 확인

### 2. 급여 현황 (PayrollGrid) 테스트

#### 2.1 데이터 표시
- [ ] 월별 급여 데이터 로딩
- [ ] 직원별 정보 정확성 (이름, 부서, 기본급 등)
- [ ] 계산된 항목 정확성 (인센티브, 총액, 차이)

#### 2.2 편집 기능
- [ ] 기본급 인라인 편집
- [ ] 편집 모드 전환 (연필 아이콘)
- [ ] 저장 기능 (체크 아이콘)
- [ ] 취소 기능 (X 아이콘)

#### 2.3 필터링 및 정렬
- [ ] 컬럼별 정렬 기능
- [ ] 필터 기능
- [ ] 검색 기능
- [ ] 페이지네이션

### 3. 매출 관리 테스트

#### 3.1 매출 데이터 입력
- [ ] 새로운 매출 데이터 추가
- [ ] 직원 선택 기능
- [ ] 매출 금액, 목표 금액 입력
- [ ] 달성률 자동 계산 확인
- [ ] 비고 입력

#### 3.2 매출 데이터 관리
- [ ] 기존 데이터 수정
- [ ] 데이터 삭제
- [ ] 목록 필터링
- [ ] 검색 기능

#### 3.3 인센티브 계산
- [ ] 개별 인센티브 계산
- [ ] 계산 결과 팝업 확인
- [ ] 전체 인센티브 배치 계산
- [ ] 계산 완료 후 데이터 업데이트

### 4. 상여금/포상금 관리 테스트

#### 4.1 상여금 입력
- [ ] 새로운 상여금 추가
- [ ] 직원 선택
- [ ] 유형 선택 (상여금/포상금)
- [ ] 금액 및 사유 입력
- [ ] 지급일 설정

#### 4.2 상여금 관리
- [ ] 상여금 수정
- [ ] 상여금 삭제
- [ ] 승인 기능 (관리자)
- [ ] 필터링 (유형, 승인상태)

#### 4.3 통계 확인
- [ ] 총 금액 계산
- [ ] 상여금/포상금 분리 집계
- [ ] 승인된 금액 집계

---

## 인센티브 시스템 테스트

### 1. 인센티브 계산기 테스트

#### 1.1 기본 기능
- [ ] 직원 선택
- [ ] 현재 수식 로딩
- [ ] 테스트 매출 금액 입력
- [ ] 인센티브 계산 실행

#### 1.2 수식 편집 (관리자)
- [ ] 편집 모드 전환
- [ ] 수식 입력 및 수정
- [ ] 변수 설정
- [ ] 수식 검증
- [ ] 저장 기능

#### 1.3 수식 예제 테스트
- [ ] Simple Percentage 수식 적용
- [ ] Tiered Commission 수식 적용
- [ ] Target-based 수식 적용
- [ ] 각 수식별 계산 결과 확인

#### 1.4 배치 시뮬레이션
- [ ] 전체 직원 대상 시뮬레이션
- [ ] 결과 테이블 확인
- [ ] 성과 등급 표시
- [ ] 총 커미션 계산

### 2. 인센티브 계산 정확성 테스트

#### 2.1 단순 퍼센트 계산
```
테스트 케이스:
- 수식: sales_amount * 0.05
- 매출: 1,000,000원
- 예상 결과: 50,000원
```

#### 2.2 단계별 커미션 계산
```
테스트 케이스:
- 수식: 단계별 커미션
- tier1_threshold: 1,000,000 (3%)
- tier2_threshold: 2,000,000 (5%)
- tier3_rate: 8%
- 매출: 3,000,000원
- 예상 결과: 30,000 + 50,000 + 80,000 = 160,000원
```

#### 2.3 목표 기반 계산
```
테스트 케이스:
- 기본 수식: sales_amount * 0.03
- 목표 초과 시: (sales_amount - target) * 0.06
- 목표: 2,000,000원, 매출: 2,500,000원
- 예상 결과: 60,000 + 30,000 = 90,000원
```

---

## 파일 업로드 테스트

### 1. 파일 업로드 기능 테스트

#### 1.1 파일 검증
- [ ] Excel 파일 (.xlsx) 업로드
- [ ] Excel 파일 (.xls) 업로드
- [ ] 잘못된 파일 형식 업로드 시도
- [ ] 큰 파일 (10MB 이상) 업로드 시도
- [ ] 빈 파일 업로드 시도

#### 1.2 파일 파싱
- [ ] 올바른 형식의 급여 파일 파싱
- [ ] 필수 컬럼 누락 파일 처리
- [ ] 잘못된 데이터 형식 처리
- [ ] 빈 행 처리

#### 1.3 업로드 결과 확인
- [ ] 총 행 수 정확성
- [ ] 유효 행 수 계산
- [ ] 무효 행 수 및 오류 내용
- [ ] 요약 정보 표시

### 2. 데이터 비교 테스트

#### 2.1 미리보기 기능
- [ ] 업로드된 데이터 미리보기
- [ ] 처음 10행 표시
- [ ] 유효/무효 상태 표시
- [ ] 컬럼 매핑 확인

#### 2.2 시스템 데이터 비교
- [ ] 동일한 직원 데이터 매칭
- [ ] 차액 계산 정확성
- [ ] 일치/불일치 상태 표시
- [ ] 미발견 직원 처리

#### 2.3 비교 결과 확인
- [ ] 총 건수 확인
- [ ] 일치 건수
- [ ] 차이 건수
- [ ] 미발견 건수
- [ ] 오류 건수

### 3. 파일 처리 테스트

#### 3.1 테스트 파일 생성
```excel
사원번호 | 성명   | 부서     | 직급 | 기본급    | 인센티브  | 상여금   | 포상금   | 지급총액  | 실지급액  | 차액
EMP001  | 홍길동  | 영업부    | 대리 | 3000000  | 150000   | 100000  | 50000   | 3300000  | 3200000  | -100000
EMP002  | 김철수  | 개발부    | 과장 | 4000000  | 200000   | 150000  | 0       | 4350000  | 4350000  | 0
```

#### 3.2 예외 상황 테스트
- [ ] 중복 사원번호 처리
- [ ] 존재하지 않는 사원 처리
- [ ] 음수 금액 처리
- [ ] 특수 문자 포함 데이터

---

## 보고서 시스템 테스트

### 1. Excel 보고서 생성

#### 1.1 급여 보고서
- [ ] 월별 급여 보고서 생성
- [ ] 모든 직원 데이터 포함 확인
- [ ] 합계 계산 정확성
- [ ] 포맷팅 확인 (통화, 색상)

#### 1.2 비교 보고서
- [ ] 업로드 데이터와 시스템 데이터 비교 보고서
- [ ] 차액 계산 정확성
- [ ] 상태별 색상 구분
- [ ] 요약 정보 포함

#### 1.3 개별 급여명세서
- [ ] 특정 직원 급여명세서 생성
- [ ] 개인 정보 정확성
- [ ] 급여 항목별 상세 표시

### 2. 템플릿 다운로드
- [ ] 급여 업로드 템플릿 다운로드
- [ ] 템플릿 파일 형식 확인
- [ ] 필수 컬럼 포함 확인

---

## 권한 시스템 테스트

### 1. 역할별 접근 제어

#### 1.1 관리자 (admin) 권한
- [ ] 모든 메뉴 접근 가능
- [ ] 직원 관리 기능
- [ ] 부서 관리 기능
- [ ] 파일 업로드 기능
- [ ] 인센티브 수식 편집
- [ ] 상여금 승인 기능

#### 1.2 매니저 (manager) 권한
- [ ] 급여 관리 접근
- [ ] 보고서 접근
- [ ] 직원 데이터 조회
- [ ] 인센티브 수식 조회만
- [ ] 파일 업로드 제한 확인

#### 1.3 사용자 (user) 권한
- [ ] 개인 대시보드만 접근
- [ ] 개인 휴가 관리만
- [ ] 급여 관리 접근 제한
- [ ] 관리 기능 접근 제한

### 2. 데이터 접근 제어
- [ ] 본인 데이터만 조회 (일반 사용자)
- [ ] 부서 데이터 조회 (매니저)
- [ ] 전체 데이터 조회 (관리자)

---

## 성능 테스트

### 1. 로딩 성능

#### 1.1 페이지 로딩 시간
- [ ] 대시보드 로딩 시간 (< 3초)
- [ ] 급여 관리 페이지 로딩 (< 2초)
- [ ] 대용량 데이터 테이블 로딩 (< 5초)

#### 1.2 API 응답 시간
- [ ] 급여 데이터 조회 (< 500ms)
- [ ] 인센티브 계산 (< 1초)
- [ ] 보고서 생성 (< 10초)
- [ ] 파일 업로드 처리 (< 30초)

### 2. 대용량 데이터 테스트

#### 2.1 직원 수별 테스트
- [ ] 100명 직원 데이터
- [ ] 500명 직원 데이터
- [ ] 1000명 직원 데이터

#### 2.2 메모리 사용량
- [ ] 클라이언트 메모리 사용량
- [ ] 서버 메모리 사용량
- [ ] 데이터베이스 성능

---

## 통합 시나리오 테스트

### 시나리오 1: 월별 급여 처리 전체 워크플로우

#### 단계별 테스트
1. **매출 데이터 입력**
   - [ ] 모든 직원의 월별 매출 데이터 입력
   - [ ] 목표 대비 달성률 확인

2. **인센티브 계산**
   - [ ] 개별 인센티브 계산 확인
   - [ ] 배치 인센티브 계산 실행
   - [ ] 계산 결과 검증

3. **상여금/포상금 추가**
   - [ ] 우수 직원 포상금 입력
   - [ ] 상여금 승인 처리

4. **급여 확정**
   - [ ] 급여 현황에서 최종 금액 확인
   - [ ] 필요시 수동 조정

5. **보고서 생성**
   - [ ] 월별 급여 보고서 생성
   - [ ] 개별 급여명세서 생성

### 시나리오 2: 노무사 파일 검증 워크플로우

#### 단계별 테스트
1. **파일 업로드**
   - [ ] 노무사 제공 Excel 파일 업로드
   - [ ] 파싱 결과 확인

2. **데이터 비교**
   - [ ] 시스템 데이터와 비교
   - [ ] 차액 분석

3. **차이 조정**
   - [ ] 차이 발생 원인 분석
   - [ ] 필요시 시스템 데이터 수정

4. **최종 확정**
   - [ ] 데이터 처리 완료
   - [ ] 비교 보고서 생성

### 시나리오 3: 신규 직원 추가 전체 프로세스

#### 단계별 테스트
1. **직원 등록**
   - [ ] 직원 정보 입력
   - [ ] 인센티브 수식 설정

2. **매출 목표 설정**
   - [ ] 월별 매출 목표 입력

3. **급여 정보 설정**
   - [ ] 기본급 설정
   - [ ] 첫 급여 계산 확인

4. **권한 확인**
   - [ ] 로그인 가능 여부
   - [ ] 개인 데이터 접근 확인

---

## 오류 시나리오 테스트

### 1. 네트워크 오류
- [ ] 인터넷 연결 끊김 상황
- [ ] 서버 응답 지연 (타임아웃)
- [ ] API 서버 다운 상황

### 2. 데이터 무결성 오류
- [ ] 중복 데이터 입력
- [ ] 참조 무결성 위반
- [ ] 필수 데이터 누락

### 3. 권한 오류
- [ ] 세션 만료 상황
- [ ] 권한 없는 페이지 접근
- [ ] CSRF 공격 시뮬레이션

---

## 테스트 체크리스트 요약

### 기본 기능 (20항목)
- [ ] 로그인/로그아웃
- [ ] 네비게이션
- [ ] 권한 제어
- [ ] 반응형 디자인

### 급여 관리 (25항목)
- [ ] 대시보드 통계
- [ ] 급여 현황 테이블
- [ ] 매출 관리
- [ ] 상여금 관리

### 인센티브 시스템 (15항목)
- [ ] 계산기 기능
- [ ] 수식 편집
- [ ] 계산 정확성

### 파일 시스템 (18항목)
- [ ] 파일 업로드
- [ ] 데이터 비교
- [ ] 보고서 생성

### 성능 및 통합 (12항목)
- [ ] 로딩 성능
- [ ] 전체 워크플로우
- [ ] 오류 처리

**총 테스트 항목: 90개**

---

## 테스트 실행 순서

1. **개발 환경 설정 및 기본 기능 테스트**
2. **각 모듈별 단위 테스트**
3. **통합 시나리오 테스트**
4. **성능 및 스트레스 테스트**
5. **보안 및 권한 테스트**
6. **사용자 경험 테스트**

## 테스트 결과 기록

각 테스트 항목에 대해 다음 정보를 기록:
- ✅ 통과 / ❌ 실패 / ⚠️ 부분 통과
- 발견된 이슈
- 수정 사항
- 재테스트 결과

이 테스트 가이드를 통해 시스템의 모든 기능이 올바르게 작동하는지 체계적으로 검증할 수 있습니다.